<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting Started &mdash; montecarlo  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Files" href="api.html" />
    <link rel="prev" title="Welcome to montecarlo’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> montecarlo
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#theory">Theory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#background-and-physics">Background and Physics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#montecarlo-and-metropolis">Montecarlo and Metropolis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html#api-documentation">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About this package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">montecarlo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Getting Started</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/getting_started.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>This page details how to get started with montecarlo. Montecarlo is a package which was developed for the calculation of classical hamiltonians</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install montecarlo, you will need an environment with the following packages:</p>
<ul class="simple">
<li><p>Python 3.7</p></li>
<li><p>NumPy</p></li>
<li><p>Matplotlib</p></li>
</ul>
<p>Once you have these packages installed, you can install montecarlo in the same environment using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">nrmanohar</span><span class="o">/</span><span class="n">montecarlo</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">montecarlo</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="theory">
<h2>Theory<a class="headerlink" href="#theory" title="Permalink to this headline">¶</a></h2>
<div class="section" id="background-and-physics">
<h3>Background and Physics<a class="headerlink" href="#background-and-physics" title="Permalink to this headline">¶</a></h3>
<div class="math notranslate nohighlight">
\[\frac{H}{k} = -\frac{J}{k}\sum s_i s_{i+1}+\frac{\mu}{k}\sum s_i\]</div>
<p>This is the equation of the 1D spin lattice hamiltonian, where s is the spin of each state
on the lattice state. This can be used to compute the energy levels of a spin lattice structure,
and by extension the probability of it occuring using the Boltzmann distribution. However, these
structures have other important charactaristics, like magnetization. Using that, we can compute
the average energy and average magnetization of all states of a certain size, and from there
determine the heat capacity and magnetic susceptibility. Magnetization can be written as such</p>
<div class="math notranslate nohighlight">
\[M = \sum s_i\]</div>
<p>And the relative probability can be written as the following</p>
<div class="math notranslate nohighlight">
\[P(\alpha) = e^{-E(\alpha)/{kT}}\]</div>
<p>However, this is unnormalized, and thus will give incorrect values. For discrete energies, the normalization factor is</p>
<div class="math notranslate nohighlight">
\[Z = \sum e^{-E(\alpha)/{kT}}\]</div>
<p>Similarly, for a continuous energy distribution, the normalization factor is</p>
<div class="math notranslate nohighlight">
\[Z = \int e^{-E(\alpha)/{kT}}\]</div>
<p>Which makes the actual probability of each state</p>
<div class="math notranslate nohighlight">
\[P(\alpha) = \frac{1}{Z} e^{-E(\alpha)/{kT}}\]</div>
<p>The heat capacity can be calculated using expectation values of energy as follows.</p>
<div class="math notranslate nohighlight">
\[C = \frac{\langle E^2 \rangle - \langle E \rangle^2}{kT^2}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\langle E\rangle = \sum P(\alpha)E(\alpha)\]</div>
<p>Magnetic susceptibility can be calculated as follows, in a very similar manner to heat capacity</p>
<div class="math notranslate nohighlight">
\[\chi =\frac{\langle M^2 \rangle - \langle M \rangle^2}{kT}\]</div>
<p>This package can calculate all these values exactly, using the formulas listed above.</p>
</div>
<div class="section" id="montecarlo-and-metropolis">
<h3>Montecarlo and Metropolis<a class="headerlink" href="#montecarlo-and-metropolis" title="Permalink to this headline">¶</a></h3>
<p>However, calculating these values precisely is computationaly taxing, so we can approximate
using the montecarlo method. Essentially, the goal is to use a random lattice to approximate
the total energy distribution. However, this doesn’t include probabilities, and so it wouldn’t
generate a good plot. The key was the phase transition probability.</p>
<div class="math notranslate nohighlight">
\[W(\alpha\rightarrow \beta) = e^{-(E(\beta)-E(\alpha))/kT}\]</div>
<p>The key is when to keep a state and it’s associated energy, and when not to, and when to
use that energy to compare other energies. The tester lattice is a random lattice. Then it’ll
sweep through each lattice site and flip it’s spin and calculate it’s energy. If the energy is
lower than the energy of the comparison, it’s more probable, and so the state will be kept. If
the state has a higher energy, we use the comparison used above, which will generate a number
between zero and one, and then compare it to a random number between zero and one. If the probabilty
of the phase change is higher than the generated random number, then we keep that state and use that
state as the reference energy to compare to.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Here’s a sample code with the montecarlo package</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">montecarlo</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">lattice</span> <span class="o">=</span> <span class="n">spin_config_1D</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">temp</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lattice</span><span class="p">)</span>
<span class="n">lattice</span><span class="o">.</span><span class="n">generate_plot</span><span class="p">()</span>
</pre></div>
</div>
<p>which generates the output</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">States</span><span class="p">:</span> <span class="p">[[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="n">Energies</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.7999999999999998</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.9999999999999996</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">6.199999999999999</span><span class="p">]</span>
<span class="n">Magnetizations</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">Probabilities</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0015114612660751597</span><span class="p">,</span> <span class="mf">0.4992349910051053</span><span class="p">,</span> <span class="mf">0.4992349910051055</span><span class="p">,</span> <span class="mf">1.8556723713926915e-05</span><span class="p">]</span>
<span class="n">Average</span> <span class="n">Energy</span><span class="p">:</span> <span class="o">-</span><span class="mf">3.9910442460748814</span>
<span class="n">Average</span> <span class="n">Magnetization</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.0029858090847224654</span>
<span class="n">Heat</span> <span class="n">Capcity</span><span class="p">:</span> <span class="mf">0.0526959929976023</span>
<span class="n">Magnetic</span> <span class="n">Susceptibility</span><span class="p">:</span> <span class="mf">0.0526959929976023</span>
<span class="n">Constants</span>
        <span class="n">Boltzmann</span> <span class="n">Constant</span> <span class="ow">is</span><span class="p">:</span> <span class="mi">1</span>
        <span class="n">J</span> <span class="ow">is</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span>
        <span class="n">mu</span> <span class="ow">is</span><span class="p">:</span> <span class="mf">1.1</span>
        <span class="n">Temperature</span> <span class="ow">is</span><span class="p">:</span> <span class="mi">1</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/Plot1.jpg"><img alt="Ising plot" src="_images/Plot1.jpg" style="width: 400px;" /></a>
<p>However, we can also simulate a simular plot using the metropolis sampling. The default metro_plot() function generates a plot similar to the default generate_plot() method. Continuing from the previous code block
(note, the outputs won’t be exactly the same)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metro_plot</span><span class="p">()</span>
</pre></div>
</div>
<p>generates an output similar to</p>
<a class="reference internal image-reference" href="_images/Plot2.jpg"><img alt="Metro plot" src="_images/Plot2.jpg" style="width: 400px;" /></a>
<p>As you can see, this is an approximation. We can make this approximation better by increasing the number of sweeps we include.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metro_plot</span><span class="p">(</span><span class="n">sweeps</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">)</span>
</pre></div>
</div>
<p>generates the output</p>
<a class="reference internal image-reference" href="_images/Plot3.jpeg"><img alt="Metro plot 2" src="_images/Plot3.jpeg" style="width: 400px;" /></a>
<p>note how the output is smoother. More sweeps allows you to be more accurate with your plots, at a cost of a higher computation time.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to montecarlo’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="Files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Nishad Manohar. Project structure based on the Computational Molecular Science Python Cookiecutter version 1.6.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>